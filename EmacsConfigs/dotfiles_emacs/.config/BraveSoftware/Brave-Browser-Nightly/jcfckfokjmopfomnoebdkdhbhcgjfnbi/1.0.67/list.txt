! Experimental list

! counter page visibility checks on youtube.com/twitch
tv.youtube.com,www.youtube.com,m.youtube.com##+js(brave-video-bg-play)

twitch.tv##+js(vaft-ublock-origin)
twitch.tv##+js(no-fetch-if, edge.ads.twitch.tv)


www.youtube.com#@#+js(trusted-rpnt, script, (function serverContract(), (()=>{if("YOUTUBE_PREMIUM_LOGO"===ytInitialData?.topbar?.desktopTopbarRenderer?.logo?.topbarLogoRenderer?.iconImage?.iconType||location.href.startsWith("https://www.youtube.com/tv#/")||location.href.startsWith("https://www.youtube.com/embed/"))return;document.addEventListener("DOMContentLoaded"\,(function(){const t=()=>{const t=document.getElementById("movie_player");if(!t)return;if(!t.getStatsForNerds?.()?.debug_info?.startsWith?.("SSAP\, AD"))return;const e=t.getProgressState?.();e&&e.duration>0&&(e.loaded<e.duration||e.duration-e.current>1)&&t.seekTo?.(e.duration)};t()\,new MutationObserver((()=>{t()})).observe(document\,{childList:!0\,subtree:!0})}));const t={apply:(t\,e\,o)=>{const n=o[0];return"function"==typeof n&&n.toString().includes("onAbnormalityDetected")&&(o[0]=function(){})\,Reflect.apply(t\,e\,o)}};window.Promise.prototype.then=new Proxy(window.Promise.prototype.then\,t);const e=t=>t.includes('"params":"yAEB')?t:t.includes('"params":"')?t.replace('"params":"'\,'"params":"yAEB'):t.replace('"contentCheckOk":false'\,'"contentCheckOk":false\,"params":"yAEB"')\,o={construct:(t\,o\,n)=>{const r=o[0]\,c=o[1]?.body;return r?.includes("youtubei")&&c?.includes('"contentPlaybackContext":{')&&!c?.includes("youtube.com/shorts/")&&(o[1].body=e(c))\,Reflect.construct(t\,o\,n)}};window.Request=new Proxy(window.Request\,o);const n={apply:(t\,o\,n)=>{const r=n[0];return r.includes("youtube.com/watch?")&&r.includes('"contentPlaybackContext":{')&&!location.href.includes("youtube.com/shorts/")&&(n[0]=e(r))\,Reflect.apply(t\,o\,n)}};window.TextEncoder.prototype.encode=new Proxy(window.TextEncoder.prototype.encode\,n)})();(function serverContract(), sedCount, 1)
!
m.youtube.com,www.youtube.com##+js(trusted-rpnt, script, (function serverContract(), `(()=>{if("YOUTUBE_PREMIUM_LOGO"===ytInitialData?.topbar?.desktopTopbarRenderer?.logo?.topbarLogoRenderer?.iconImage?.iconType||location.href.startsWith("https://www.youtube.com/tv#/")||location.href.startsWith("https://www.youtube.com/embed/"))return;document.addEventListener("DOMContentLoaded",(function(){const e=()=>{const e=document.getElementById("movie_player");if(!e)return;if(!e.getStatsForNerds?.()?.debug_info?.startsWith?.("SSAP, AD"))return;const t=e.getProgressState?.();t&&t.duration>0&&(t.loaded<t.duration||t.duration-t.current>1)&&e.seekTo?.(t.duration)};e(),new MutationObserver((()=>{e()})).observe(document,{childList:!0,subtree:!0})}));const e={apply:(e,t,o)=>{const n=o[0];return"function"==typeof n&&n.toString().includes("onAbnormalityDetected")&&(o[0]=function(){}),Reflect.apply(e,t,o)}};window.Promise.prototype.then=new Proxy(window.Promise.prototype.then,e);const t=e=>e.includes('"params":"yAEB')?e:e.includes('"params":"')?e.replace('"params":"','"params":"yAEB'):e.includes('"contentCheckOk":false')?e.replace('"contentCheckOk":false','"contentCheckOk":false,"params":"yAEB"'):e.replace('"playbackContext":','"params":"yAEB","playbackContext":'),o={construct:(e,o,n)=>{const r=o[0],c=o[1]?.body;return r?.includes("youtubei")&&c?.includes('"contentPlaybackContext":{')&&!c?.includes("youtube.com/shorts/")&&(o[1].body=t(c)),Reflect.construct(e,o,n)}};window.Request=new Proxy(window.Request,o);const n={apply:(e,o,n)=>{const r=n[0];return r.includes("youtube.com/watch?")&&r.includes('"contentPlaybackContext":{')&&!location.href.includes("youtube.com/shorts/")&&(n[0]=t(r)),Reflect.apply(e,o,n)}};window.TextEncoder.prototype.encode=new Proxy(window.TextEncoder.prototype.encode,n),window.location.href.includes("/watch?")&&window.addEventListener("load",(()=>{const e=async function(e){let t=document.getElementById(e);for(;!t;)console.log(t),t=await new Promise((t=>setTimeout((()=>t(document.getElementById(e))),500)));return t}("movie_player"),t=window.location.search,o=new URLSearchParams(t).get("v"),n=new URLSearchParams(t).get("t")??0;if(!e||!o)return;const r=parseInt(n,10);e.then((function(e){e.loadVideoById(o,r)}))}));const r={apply:(e,o,n)=>{try{let r=n[0];if(!r)return Reflect.apply(e,o,n);const c=Array.isArray(r),a=c?r[0]:r;let s=t(a);c?n[0][0]=s:n[0]=s}catch(e){}return Reflect.apply(e,o,n)}};window.XMLHttpRequest.prototype.send=new Proxy(window.XMLHttpRequest.prototype.send,r)})();(function serverContract()`, sedCount, 1)

radioonline.com.pt,emisora.org.es,radio.co.dk,radios.co.at,tv.youtube.com,www.youtube.com,m.youtube.com##+js(brave-disable-pageview-api)
!
! Google precision popup
www.google.com,www.google.ca,www.google.com.au,www.google.co.nz,www.google.co.uk,www.google.ie,www.google.fr,www.google.nl,www.google.pt,www.google.de##.gTMtLb.fp-nh[style="visibility: visible;"]
! Google precision popup (Fix disabled scroll)
www.google.com,www.google.ca,www.google.com.au,www.google.co.nz,www.google.co.uk,www.google.ie,www.google.fr,www.google.nl,www.google.pt,www.google.de##html.TaoyYc:style(position: static !important; overflow: auto !important; width: auto !important;)

! https://github.com/brave/brave-browser/issues/50218 (Imported from uBO Experimental list)
! fake buffering on the initial load
! quick fix
www.youtube.com#@#+js(trusted-rpnt, script, (function serverContract(), (()=>{if("YOUTUBE_PREMIUM_LOGO"===ytInitialData?.topbar?.desktopTopbarRenderer?.logo?.topbarLogoRenderer?.iconImage?.iconType||location.href.startsWith("https://www.youtube.com/tv#/")||location.href.startsWith("https://www.youtube.com/embed/"))return;document.addEventListener("DOMContentLoaded"\,(function(){const t=()=>{const t=document.getElementById("movie_player");if(!t)return;if(!t.getStatsForNerds?.()?.debug_info?.startsWith?.("SSAP\, AD"))return;const e=t.getProgressState?.();e&&e.duration>0&&(e.loaded<e.duration||e.duration-e.current>1)&&t.seekTo?.(e.duration)};t()\,new MutationObserver((()=>{t()})).observe(document\,{childList:!0\,subtree:!0})}));const t={apply:(t\,e\,o)=>{const n=o[0];return"function"==typeof n&&n.toString().includes("onAbnormalityDetected")&&(o[0]=function(){})\,Reflect.apply(t\,e\,o)}};window.Promise.prototype.then=new Proxy(window.Promise.prototype.then\,t)})();(function serverContract(), sedCount, 1)
www.youtube.com#@#+js(trusted-rpnt, script, (function serverContract(), (()=>{if("YOUTUBE_PREMIUM_LOGO"===ytInitialData?.topbar?.desktopTopbarRenderer?.logo?.topbarLogoRenderer?.iconImage?.iconType||location.href.startsWith("https://www.youtube.com/tv#/")||location.href.startsWith("https://www.youtube.com/embed/"))return;document.addEventListener("DOMContentLoaded"\,(function(){const t=()=>{const t=document.getElementById("movie_player");if(!t)return;if(!t.getStatsForNerds?.()?.debug_info?.startsWith?.("SSAP\, AD"))return;const e=t.getProgressState?.();e&&e.duration>0&&(e.loaded<e.duration||e.duration-e.current>1)&&t.seekTo?.(e.duration)};t()\,new MutationObserver((()=>{t()})).observe(document\,{childList:!0\,subtree:!0})}));const t={apply:(t\,e\,r)=>{const o=r[0];return"function"==typeof o&&o.toString().includes("onAbnormalityDetected")&&(r[0]=function(){})\,Reflect.apply(t\,e\,r)}};window.Promise.prototype.then=new Proxy(window.Promise.prototype.then\,t);const e={apply:(t\,e\,r)=>{r[0]&&"object"==typeof r[0]&&(!r[0].attestationRequest&&r[0]?.playbackContext?.contentPlaybackContext?.currentUrl?.startsWith?.("/watch?")?r[0].params&&!r[0].params.startsWith("yAEB")?r[0].params="yAEB"+r[0].params:r[0].params||="yAEB":r[0].playerRequest?.playbackContext?.contentPlaybackContext?.currentUrl?.startsWith?.("/watch?")&&(r[0].playerRequest.params&&!r[0].playerRequest.params.startsWith("yAEB")?r[0].playerRequest.params="yAEB"+r[0].playerRequest.params:r[0].playerRequest.params||="yAEB"));const o=document.getElementById("player-error-message-container");if(o){const t=window.location.search\,e=new URLSearchParams(t).get("v")\,r=new URLSearchParams(t).get("t")??0;e&&(o.remove()\,document.getElementById("error-screen").remove()\,document.getElementById("movie_player").loadVideoById(e\,parseInt(r\,10)))}return Reflect.apply(t\,e\,r)}};window.JSON.stringify=new Proxy(window.JSON.stringify\,e)})();(function serverContract(), sedCount, 1)
www.youtube.com#@#+js(trusted-json-edit-fetch-request, ..playbackContext[?.contentPlaybackContext]+={"adPlaybackContext":{"pyv":true}}, propsToMatch, /\/(player|get_watch)/)
www.youtube.com#@#+js(trusted-replace-outbound-text, JSON.stringify, {"contentPlaybackContext", {"adPlaybackContext":{"pyv":true}\,"contentPlaybackContext", condition, currentUrl":"/watch)
www.youtube.com#@#+js(trusted-rpnt, script, (function serverContract(), (()=>{if("YOUTUBE_PREMIUM_LOGO"===ytInitialData?.topbar?.desktopTopbarRenderer?.logo?.topbarLogoRenderer?.iconImage?.iconType||location.href.startsWith("https://www.youtube.com/tv#/")||location.href.startsWith("https://www.youtube.com/embed/"))return;document.addEventListener("DOMContentLoaded"\,(function(){const t=()=>{const t=document.getElementById("movie_player");if(!t)return;if(!t.getStatsForNerds?.()?.debug_info?.startsWith?.("SSAP\, AD"))return;const e=t.getProgressState?.();e&&e.duration>0&&(e.loaded<e.duration||e.duration-e.current>1)&&t.seekTo?.(e.duration)};t()\,new MutationObserver((()=>{t()})).observe(document\,{childList:!0\,subtree:!0})}));const t={apply:(t\,e\,r)=>{const a=r[0];return"function"==typeof a&&a.toString().includes("onAbnormalityDetected")&&(r[0]=function(){})\,Reflect.apply(t\,e\,r)}};window.Promise.prototype.then=new Proxy(window.Promise.prototype.then\,t);const e={apply:(t\,e\,r)=>{r[0]&&"object"==typeof r[0]&&(!r[0].attestationRequest&&r[0]?.playbackContext?.contentPlaybackContext?.currentUrl?.startsWith?.("/watch?")?r[0].params&&!r[0].params.startsWith("yAEB")?r[0].params="yAEB"+r[0].params:r[0].params||="yAEB":r[0].playerRequest?.playbackContext?.contentPlaybackContext?.currentUrl?.startsWith?.("/watch?")&&(r[0].playerRequest.params&&!r[0].playerRequest.params.startsWith("yAEB")?r[0].playerRequest.params="yAEB"+r[0].playerRequest.params:r[0].playerRequest.params||="yAEB"));const a=document.getElementById("player-error-message-container")\,o=document.getElementById("movie_player");if(a&&"ERROR"===o?.getPlayerResponse?.()?.playabilityStatus?.status){const t=window.location.search\,e=new URLSearchParams(t).get("v")\,r=new URLSearchParams(t).get("t")??0;e&&(a.remove()\,document.getElementById("error-screen").remove()\,o.loadVideoById(e\,parseInt(r\,10)))}return Reflect.apply(t\,e\,r)}};window.JSON.stringify=new Proxy(window.JSON.stringify\,e)})();(function serverContract(), sedCount, 1)
! 
! www.youtube.com##+js(trusted-rpnt, script, (function serverContract(), '(()=>{if("YOUTUBE_PREMIUM_LOGO"===ytInitialData?.topbar?.desktopTopbarRenderer?.logo?.topbarLogoRenderer?.iconImage?.iconType||location.href.startsWith("https://www.youtube.com/tv#/")||location.href.startsWith("https://www.youtube.com/embed/"))return;document.addEventListener("DOMContentLoaded",(function(){const t=()=>{const t=document.getElementById("movie_player");if(!t)return;if(!t.getStatsForNerds?.()?.debug_info?.startsWith?.("SSAP, AD"))return;const e=t.getProgressState?.();e&&e.duration>0&&(e.loaded<e.duration||e.duration-e.current>1)&&t.seekTo?.(e.duration)};t(),new MutationObserver((()=>{t()})).observe(document,{childList:!0,subtree:!0})}));const t={apply:(t,e,a)=>{const n=a[0];return"function"==typeof n&&n.toString().includes("onAbnormalityDetected")&&(a[0]=function(){}),Reflect.apply(t,e,a)}};window.Promise.prototype.then=new Proxy(window.Promise.prototype.then,t);const e={apply:(t,e,a)=>{a[0]&&"object"==typeof a[0]&&(!a[0].attestationRequest&&a[0]?.playbackContext?.contentPlaybackContext?.currentUrl?.startsWith?.("/watch?")?a[0].params&&!a[0].params.startsWith("yAEB")?a[0].params="yAEB"+a[0].params:a[0].params||="yAEB":a[0].playerRequest?.playbackContext?.contentPlaybackContext?.currentUrl?.startsWith?.("/watch?")&&(a[0].playerRequest.params&&!a[0].playerRequest.params.startsWith("yAEB")?a[0].playerRequest.params="yAEB"+a[0].playerRequest.params:a[0].playerRequest.params||="yAEB"));const n=document.getElementById("player-error-message-container"),r=document.getElementById("movie_player");if(n&&"ERROR"===r?.getPlayerResponse?.()?.playabilityStatus?.status){const t=window.location.search,e=new URLSearchParams(t).get("v"),a=new URLSearchParams(t).get("t")??0;e&&(n.remove(),document.getElementById("error-screen").remove(),r.loadVideoById(e,parseInt(a,10)))}return Reflect.apply(t,e,a)}};window.JSON.stringify=new Proxy(window.JSON.stringify,e),window.location.href.includes("/watch?")&&"BADGE_STYLE_TYPE_MEMBERS_ONLY"!==ytInitialData?.contents?.twoColumnWatchNextResults?.results?.results?.contents?.[0]?.videoPrimaryInfoRenderer?.badges?.[0]?.metadataBadgeRenderer?.style&&"CONTENT_CHECK_REQUIRED"!==ytInitialPlayerResponse?.playabilityStatus?.status&&window.addEventListener("load",(()=>{const t=async function(t){let e=document.getElementById(t);for(;!e;)console.log(e),e=await new Promise((e=>setTimeout((()=>e(document.getElementById(t))),500)));return e}("movie_player"),e=window.location.search,a=new URLSearchParams(e).get("v"),n=new URLSearchParams(e).get("t")??0;if(!t||!a)return;const r=parseInt(n,10);t.then((function(t){t.loadVideoById(a,r)}))}))})();(function serverContract()', sedCount, 1)
! www.youtube.com##ytd-watch-flexy[player-unavailable]:remove-attr(player-unavailable)
! www.youtube.com##+js(trusted-json-edit-xhr-request, [?..originalUrl^="https://www.youtube.com/watch"]..playbackContext[?.contentPlaybackContext]+={"adPlaybackContext":{"pyv":true}}, propsToMatch, /player)
! www.youtube.com##+js(trusted-json-edit-xhr-request, [?..originalUrl^="https://www.youtube.com/watch"]..[?.playbackContext][?!.params]+={"params":"yAEB"}, propsToMatch, /player)
! 
www.youtube.com##+js(trusted-rpnt, script, (function serverContract(), '(()=>{if("YOUTUBE_PREMIUM_LOGO"===ytInitialData?.topbar?.desktopTopbarRenderer?.logo?.topbarLogoRenderer?.iconImage?.iconType||location.href.startsWith("https://www.youtube.com/tv#/")||location.href.startsWith("https://www.youtube.com/embed/"))return;document.addEventListener("DOMContentLoaded",(function(){const t=()=>{const t=document.getElementById("movie_player");if(!t)return;if(!t.getStatsForNerds?.()?.debug_info?.startsWith?.("SSAP, AD"))return;const e=t.getProgressState?.();e&&e.duration>0&&(e.loaded<e.duration||e.duration-e.current>1)&&t.seekTo?.(e.duration)};t(),new MutationObserver((()=>{t()})).observe(document,{childList:!0,subtree:!0})}));const t={apply:(t,e,n)=>{const o=n[0];return"function"==typeof o&&o.toString().includes("onAbnormalityDetected")&&(n[0]=function(){}),Reflect.apply(t,e,n)}};window.Promise.prototype.then=new Proxy(window.Promise.prototype.then,t),window.location.href.includes("/watch?")&&"BADGE_STYLE_TYPE_MEMBERS_ONLY"!==ytInitialData?.contents?.twoColumnWatchNextResults?.results?.results?.contents?.[0]?.videoPrimaryInfoRenderer?.badges?.[0]?.metadataBadgeRenderer?.style&&"CONTENT_CHECK_REQUIRED"!==ytInitialPlayerResponse?.playabilityStatus?.status&&window.addEventListener("load",(()=>{const t=async function(t){let e=document.getElementById(t);for(;!e;)e=await new Promise((e=>setTimeout((()=>e(document.getElementById(t))),500)));return e}("movie_player"),e=window.location.search,n=new URLSearchParams(e).get("v"),o=new URLSearchParams(e).get("t")??0;if(!t||!n)return;const r=parseInt(o,10);t.then((function(t){t.loadVideoById(n,r)}))}))})();(function serverContract()', sedCount, 1)
www.youtube.com##+js(trusted-json-edit-fetch-request, ..client[?.clientScreen=="WATCH"].clientScreen="CHANNEL", propsToMatch, /\/(player|get_watch)/)
www.youtube.com##+js(trusted-json-edit-xhr-request, ..client[?.clientScreen=="WATCH_FULL_SCREEN"].clientScreen="CHANNEL", propsToMatch, /player)
! https://www.alphr.com/disable-google-recommends/
www.google.com,www.google.ca,www.google.com.au,www.google.co.nz,www.google.co.uk,www.google.ie,www.google.fr,www.google.nl,www.google.pt,www.google.de##iframe[src^="https://ogs.google."][src*="/widget/callout?prid="]

! Test rule to prevent open-in-app on mobile
m.youtube.com##+js(rc, paused-mode, , stay)

! YouTube auto picture-in-picture scriptlet rule
! www.youtube.*##+js(brave-auto-pip)

! Twitch test rules
! twitch.tv##+js(vaft-ublock-origin)
! Twitch counter for anti-adblock
! twitch.tv##+js(no-fetch-if, edge.ads.twitch.tv)

! filters.txt
*_ad_$media,domain=youtube.com,3p

! LinkedIn News Module Puzzles
linkedin##ul[aria-labelledby="news-module__title-today-puzzles"]
linkedin.com##div:has(> h3#news-module__title-today-puzzles)

